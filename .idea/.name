lab6_legacy_code